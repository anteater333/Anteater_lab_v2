---
layout: post
title: "HackğŸª“ the #4 Rendering"
description: 
date: 2023-12-22 10:49:00 +0900
categories: [Hack]
---

## ì„œë¡ 

ì½¤í“¨íƒ€ë¼ëŠ”ê²Œ ì¸ê°„ì´ ë§Œë“  ì „ì ë…¸ì˜ˆ.

[ë””ìŠ¤í”Œë ˆì´ì˜ ë°œì „ì„ ë‚˜íƒ€ë‚´ëŠ” ì§¤ë°©]

ë””ìŠ¤í”Œë ˆì´ì˜ ë°œì „ê³¼ í•¨ê»˜ ëŒ€ë‘ëœ ê·¸ë¦¼ ë…¸ì˜ˆì˜ í•„ìš”ì„± (GPU, GUI)

Renderingì´ë€ ë‹¨ì–´ì— ëŒ€í•´

Renderingì´ë€ ë‹¨ì–´ê°€ ì‚¬ìš©ë˜ëŠ” ì˜ˆì‹œë“¤

ë‹¹ì—°íˆ ëª¨ë“  Renderingì— ëŒ€í•´ ìƒì†Œíˆ ë‹¤ë¤„ë³¼ ê³„íšì€ ì•„ë‹ˆë‹¤. ë³¸ì¸ì€ ì˜ë¬¸í•™ìë„ ì•„ë‹ˆê³ , CG ì—”ì§€ë‹ˆì–´ë„ ì•„ë‹ˆê³ , ì›¹ ê°œë°œì. 

## ì›¹ ê°œë°œì—ì„œ ë§Œë‚  ìˆ˜ ìˆëŠ” ë Œë”ë§

ì›¹ í™˜ê²½ì—ì„œì˜ ë Œë”ë§

threejs - ì´ê±´ CGì—ì„œì˜ ë Œë”ë§ì´ë‹ˆê¹Œ ìƒëµ
SSR, CSRì˜ ë Œë”
ì›¹ ë¸Œë¼ìš°ì €ì˜ ë Œë”

## CSR? SSR?
SSR, CSRì˜ ë Œë”ë§.

ê°œì¸ì ìœ¼ë¡œ ìš©ì–´ì˜ í˜¼ë€ì„ ì•¼ê¸°í• ë§Œí•œ ë¶€ë¶„ ê°™ì€ë°... 

### CSR

### SSR

## ì›¹ ë¸Œë¼ìš°ì €ì˜ ì›¹ í˜ì´ì§€ ë Œë”ë§
ì£¼ì†Œì°½ì— URLì„ ì…ë ¥í–ˆì„ ë•Œ ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚˜ë‚˜ìš”? ì˜ ë’·ë¶€ë¶„ì— í•´ë‹¹ë˜ëŠ” ì´ì•¼ê¸°

### Rendering Engine

Javascript Engineê³¼ **Rendering Engine**

### ë¸Œë¼ìš°ì €ì˜ ë Œë”ë§ ê³¼ì • ì‚´í´ë³´ê¸°

CRP

## ë Œë”ë§ì„ ì‹ ê²½ì¨ì•¼ í•˜ëŠ” ì´ìœ 

FPS ì´ì•¼ê¸°. ë¸Œë¼ìš°ì €ì˜ ê°œë°œì ë„êµ¬ë¥¼ í†µí•´ í™•ì¸ ê°€ëŠ¥.
 - í¬ë¡¬ì—ì„  ì‹¤ì‹œê°„ í™•ì¸
 - íŒŒì´ì–´í­ìŠ¤ëŠ” ê¸°ë¡í•´ì„œ í™•ì¸ ê°€ëŠ¥

ê²Œì„ì„ í•  ë•Œ FPSë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ í•˜ë“œì›¨ì–´ë¥¼ ì—…ê·¸ë ˆì´ë“œ í•˜ëŠ” ê²½í—˜.  

ì´ ë Œë”ë§ì´ ì–¼ë§ˆë‚˜ ë¹ ë¥´ê²Œ, ì–¼ë§ˆë‚˜ ì•ˆì •ì ì¸ FPSë¡œ ë Œë”ë§ë˜ëŠëƒê°€ ì›¹ í˜ì´ì§€ì˜ ì„±ëŠ¥ ì§€í‘œ ì¤‘ í•˜ë‚˜.

ì´í•˜ GPTì˜ ìš”ì•½.

>ì›¹ í˜ì´ì§€ì˜ ë Œë”ë§ ê³¼ì •ì„ ì´í•´í•˜ëŠ” ê²ƒì€ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì—ê²Œ ë§¤ìš° ì¤‘ìš”í•œ ë¶€ë¶„ì…ë‹ˆë‹¤. ì´ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì´ìœ ê°€ ìˆìŠµë‹ˆë‹¤:
1. ì„±ëŠ¥ ìµœì í™”: ë Œë”ë§ ê³¼ì •ì„ ì´í•´í•˜ë©´, ì›¹ í˜ì´ì§€ì˜ ë¡œë”© ì†ë„ë¥¼ í–¥ìƒì‹œí‚¤ê³ , ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¶ˆí•„ìš”í•œ ë¦¬í”Œë¡œìš°ë‚˜ ë¦¬í˜ì¸íŠ¸ë¥¼ ë°©ì§€í•˜ê±°ë‚˜, CSSì™€ JavaScriptë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ë Œë”ë§ ì„±ëŠ¥ì„ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. ë³µì¡í•œ UI êµ¬í˜„: ë Œë”ë§ ê³¼ì •ì„ ì´í•´í•˜ë©´, ë³µì¡í•œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë° í•„ìš”í•œ ê¸°ìˆ ì„ ë” ì˜ ì´í•´í•˜ê³  í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì• ë‹ˆë©”ì´ì…˜, ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸, ë ˆì´ì•„ì›ƒ ë³€ê²½ ë“±ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ë•Œ ì´í•´ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.
3. í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§• ì´ìŠˆ í•´ê²°: ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë Œë”ë§ ì—”ì§„ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì—, ë™ì¼í•œ ì›¹ í˜ì´ì§€ê°€ ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë Œë”ë§ ê³¼ì •ì„ ì´í•´í•˜ë©´ ì´ëŸ¬í•œ í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§• ì´ìŠˆë¥¼ ë” ì˜ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. í”„ë¡œê·¸ë˜ì‹œë¸Œ ì›¹ ì•± (PWA) ê°œë°œ: ìµœê·¼ì—ëŠ” ì›¹ ì•±ì´ ë„¤ì´í‹°ë¸Œ ì•±ê³¼ ê°™ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ë ¤ëŠ” ì¶”ì„¸ì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ” ì›¹ í˜ì´ì§€ì˜ ë Œë”ë§ ê³¼ì •ì„ ì´í•´í•˜ê³  ìµœì í™”í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.  
ê²°ê³¼ì ìœ¼ë¡œ, í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ ì›¹ í˜ì´ì§€ì˜ ë Œë”ë§ ê³¼ì •ì„ ê¹Šê²Œ ì´í•´í•˜ê³  ìˆìœ¼ë©´, ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ê³ , ë” íš¨ê³¼ì ì¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

----
# í‚¤ì›Œë“œ ë˜ì ¸ë†“ê¸°

- **í™•ì‹¤í•˜ê²Œ ì •í•˜ê³  ê°ˆ ë¶€ë¶„**  
- renderë¼ëŠ” ìš©ì–´ëŠ” ì—¬ëŸ¬ ë¶„ì•¼ì—ì„œ ë“±ì¥í•˜ëŠ”ë° ì •í™•í•˜ê²Œ ì–´ë–¤ ë¶„ì•¼ì—ì„œì˜ renderì— ì§‘ì¤‘í•  ê²ƒì¸ê°€.
  - ë³´í¸ì ì¸ ë‹¨ì–´ render
  - CGì—ì„œì˜ render
  - Web ê°œë°œ í™˜ê²½ì—ì„œì˜ render
    - SSR, CSRì˜ render
    - ì›¹ ë¸Œë¼ìš°ì €ì˜ render
    - ìœ„ ë‘˜ì˜ ì°¨ì´ëŠ”?

- render
  - **ë§Œë“¤ë‹¤**, ì£¼ë‹¤, ì œì‹œí•˜ë‹¤.
  - (ì–´ë–¤ ìƒíƒœê°€ ë˜ë„ë¡) ë§Œë“¤ë‹¤
  - to cause (someone or something) to be in a specified condition
  - ì›ìì¬ë¥¼ ê°€ì§€ê³  ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” í–‰ìœ„
    - source -[Renderer]-> result
- rendering
  - 1. (íŠ¹ì •í•œ í•´ì„ì„ ê°€ë¯¸í•œ) ì—°ì£¼ 2. ë²ˆì—­ 3. (ë²½ëŒë²½Â·ì„ë²½ ë“±ì— í•˜ëŠ”) íšŒë°˜ì£½ ì¹ 
  - ë‹¨ìˆœ ë³€í™”ë³´ë‹¨ ê·¸ ê³¼ì •ì— ì–´ë– í•œ íŠ¹ìƒ‰ or ê°œì„±ì´ ê°€ë¯¸ë˜ëŠ” ë³€í™”?
    - ex. cartoon rendering, ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë‹¤ë¥¸ ê¸°ë³¸ UI í˜•íƒœ ë“±.

- CGì—ì„œì˜ render
  - renderë¼ëŠ” ë‹¨ì–´ê°€ ê°€ì¥ ì§ê´€ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë¶„ì•¼?
  - render, scene(w/ mesh, ê·¸ë¦¬ê³  ìì—° í˜„ìƒë“¤), camera

- SSR, CSR
  - ì†ŒìŠ¤ ì½”ë“œ -[Renderer]-> ì›¹ í˜ì´ì§€(HTML/CSS/JS)
  - Client side rendering
    - í´ë¼ì´ì–¸íŠ¸ê°€ ìµœì´ˆì— ì „ë‹¬ë°›ì€ Javascript(ì†ŒìŠ¤ ì½”ë“œ)ì— ì •ì˜ëœëŒ€ë¡œ HTML í˜ì´ì§€ë¥¼ ë§Œë“¬
    - ë™ì  ë Œë”ë§
  - Server side rendering
    - ìš”ì²­ì— ë”°ë¼ ì„œë²„ì—ì„œ ë¯¸ë¦¬ HTMLì„ ë§Œë“¤ì–´ì„œ ì „ë‹¬í•´ì¤Œ
    - ê·¸ ì´í›„ hydrationì´ë€ ê³¼ì •ì„ ê±°ì³ ì›¹ í˜ì´ì§€ë¥¼ ë™ì ìœ¼ë¡œ ë§Œë“¬.

- ìœ„ ë Œë”ë§ì˜ ê²°ê³¼ë¬¼ì„ ì›¹ ë¸Œë¼ìš°ì €ì˜ ë Œë”ë§ ì—”ì§„ì´ ë Œë”ë§
  (í—·ê°ˆë¦¬ëŠ” í¬ì¸íŠ¸, ë Œë”ë§ì˜ ê²°ê³¼ë¬¼ì„ ë Œë”ë§, ì˜ë¯¸ì ìœ¼ë¡œ ì•ˆë ê±´ ì—†ìŒ.)

- Rendering in web browser.
  - Browserì˜ ì—”ì§„ë“¤: **Rendering Engine**, Javascript Engine.  
  - [CRP](https://developer.mozilla.org/ko/docs/Web/Performance/Critical_rendering_path)  
    - DOM (HTML í•´ì„ì˜ ê²°ê³¼ë¬¼)  
    - CSSOM (Stylesheet í•´ì„ì˜ ê²°ê³¼ë¬¼)  
    - Render Tree (DOM + CSSOM)  
  - í”„ë ˆì„ ì†ë„ (Frame rate, FPS)  
  > **í”„ë ˆì„ ì†ë„(FPS)**ëŠ” ë¸Œë¼ìš°ì €ê°€ ì½˜í…ì¸ ë¥¼ ë‹¤ì‹œ ê³„ì‚°í•˜ê³ , ë ˆì´ì•„ì›ƒì„ ì„¤ì •í•˜ê³  ë””ìŠ¤í”Œë ˆì´ì— ê·¸ë¦´ ìˆ˜ ìˆëŠ” ì†ë„ì…ë‹ˆë‹¤. **ì´ˆë‹¹ í”„ë ˆì„ ìˆ˜(frames per second, fps)**ëŠ” 1ì´ˆì— ë‹¤ì‹œ ì¹ í•  ìˆ˜ ìˆëŠ” í”„ë ˆì„ ìˆ˜ì…ë‹ˆë‹¤. ì›¹ì‚¬ì´íŠ¸ ì»´í“¨í„° ê·¸ë˜í”½ì˜ ëª©í‘œ í”„ë ˆì„ ì†ë„ëŠ” **60fps**ì…ë‹ˆë‹¤.
  - ê²°ê³¼ì ìœ¼ë¡œ ì•ì„œ ë§í•œ CGì—ì„œì˜ renderì™€ ë¹„ìŠ·í•œ ì˜ë¯¸. ì›¹ í˜ì´ì§€ë¼ëŠ” ê·¸ë¦¼ì„ 60fpsë¡œ í™”ë©´ì— ë¿Œë¦¬ëŠ” ì‘ì—…  
  - **ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ê³¼ ì§ê²°ë˜ëŠ” ë¬¸ì œ**  

# Refs

- [ì›¹ ë¸Œë¼ìš°ì €ì˜ ë Œë”ë§ í”„ë¡œì„¸ìŠ¤](https://cresumerjang.github.io/2019/06/24/critical-rendering-path/)
- [ToastUI(NHN Cloud FE) ë¸”ë¡œê·¸, ì„±ëŠ¥ ìµœì í™”](https://ui.toast.com/fe-guide/ko_PERFORMANCE#1-%ED%8C%8C%EC%8B%B1)
- [CSS Engine, Quantum CSS, ê·¸ë¦¼ì´ ë§ˆìŒì— ë“¬](https://hacks.mozilla.org/2017/08/inside-a-super-fast-css-engine-quantum-css-aka-stylo/)
- [Navigation Timing API, ë” ì •í™•í•œ ì›¹ ì‚¬ì´íŠ¸ ì„±ëŠ¥ ì¸¡ì • API](https://developer.mozilla.org/ko/docs/Web/API/Performance_API/Navigation_timing)
- [Understanding the critical path, web.dev](https://web.dev/learn/performance/understanding-the-critical-path?hl=en)
- [ì›¹ì—ì„œ ë Œë”ë§](https://web.dev/articles/rendering-on-the-web?hl=ko)
- [ìµœì‹  ë¸Œë¼ìš°ì € ë‚´ë¶€ ì‚´í´ë³´ê¸° 1 - CPU, GPU, ë©”ëª¨ë¦¬ ê·¸ë¦¬ê³  ë‹¤ì¤‘ í”„ë¡œì„¸ìŠ¤ ì•„í‚¤í…ì²˜](https://d2.naver.com/helloworld/2922312)
  - ì´ ì‹œë¦¬ì¦ˆ ì „ì²´ë¥¼ í•œ ë²ˆ ì½ì–´ë³¼ í•„ìš”ê°€ ìˆìŒ. 3ë²ˆ ê¸€ë„ ì¤‘ìš”í•´ë³´ì„.