---
layout: post
title: "자잘한 도움말 #12 WSL에서 USB 저장 장치 접근하기"
description: ""
date: 2023-11-01 12:49:00 +0900
categories: [Micro]
---

## TL;DR

- USB를 꽂으면 윈도우에서는 자동으로 인식이 되지만(Plug & Play), WSL은 인식하지 못한다.
  - 가상 머신은 하드웨어에 직접 접근하기 어렵다.
- 리눅스 쉘에서 별도의 명령어를 사용해 USB 장치를 WSL에 연결(마운트, mount) 해줘야 한다.

```sh
# D 드라이브로 잡힌 저장 장치 연결
sudo mount -t drvfs D: /mnt/d/

# 연결 해제
sudo umount /mnt/d
```

## 이하 그리 중요하진 않은 내용들

### 이동식 디스크

![이동식이 누군가요 ㅡㅡ](https://i.postimg.cc/7Ym7vTfq/Ea-FOby6-U0-AAhi-ZJ.jpg)  
{: .center .w-half .rounded-edge-16}

[WSL 가상 디스크 압축에 대해 다룬 적](/micro/2023/07/05/micro-tip-9.html)이 있다. 하지만 아무리 압축한다고 해도 결국 PC 용량은 물리적으로 부족해지기 마련이다. 그럴 때 유용한 것이 바로 이동식 디스크. 요즘엔 정식 명칭이 USB 드라이브던가, 아무튼 일반적으로 USB(Universal Serial Bus) 포트를 통해 연결하는 외장 저장 장치. TMI지만 한 9년 전 어떤 행사에서 경품으로 1TB짜리 외장하드를 받고는 "이것이 내가 지금까지 손에 쥐어본 숫자 중 가장 크다."라고 말했는데, 이제는 가방에 1TB짜리 SSD와 4TB짜리 SSD를 같이 넣어 다니며 일을 하고 있구나.

### `/mnt/c/`! `/mnt/d/`?

![CDrive](https://i.postimg.cc/26k538zg/c-drive.webp)  
{: .center .w-half .rounded-edge-16}

윈도우에서는 기본적으로 로컬 디스크를 "C:" 라는 논리적 경로로 지칭한다. 그리고 여기에 추가적인 파티션을 생성하거나, 외장 저장 장치가 연결되면 "D:", "E:" 같은 경로에 할당된다. 왜 "A:", "B:"에서 시작하지 않는지에 대해서는 [나무위키에 잘 정리되어 있으니](https://namu.wiki/w/C%20%EB%93%9C%EB%9D%BC%EC%9D%B4%EB%B8%8C) 시간이 남아돈다면 심심풀이로 한 번 읽어보자. 아무튼 윈도우를 사용할 때 우리는 C 드라이브를 사용하는 것에 익숙하다.

WSL은 가상 머신으로 엄밀히 따지면 윈도우의 파일 시스템과는 격리되어 있다. 하지만 WSL `/mnt/c/` 라는 경로를 통해 큰 어려움 없이 윈도우에 존재하는 파일에 접근 가능하다. 즉 `/mnt/c/`라는 경로는 WSL이 자동으로 윈도우의 C 드라이브에 접근할 수 있도록 연결해준 경로인 것이다. WSL이 아니라 Linux 계열 OS가 바로 설치된 PC나 인스턴스가 있다면 해당 경로가 기본으로 제공되지 않는다는 점을 확인할 수 있을 것이다.

![마운트](https://i.postimg.cc/HsX22Ccv/image.png)  
{: .center .rounded-edge-16}

물리 > 논리(윈도우) > 논리(WSL/VM)의 흐름으로 저장 장치가 연결된다고 생각했을 때, 두 수준 사이에서 발생하는 연결을 **마운트(Mount)**라고 한다. 즉 `/mnt` 경로는 Mount의 준말이었다. 다시 정리해서 말해보자. WSL은 자동으로 C 드라이브를 `/mnt/c/`에 마운트해준다. 문제는 여기에서 시작된다. 나는 내 노트북에 외장 SSD를 연결하고 그것이 윈도우에서 D 드라이브로 연결된 것을 확인했다. 그리고 WSL의 쉘에서 `/mnt/d/` 경로에 접근을 시도했다. "지정된 경로를 찾을 수 없음."

### PnP
플러그 앤 플레이, USB를 꽂으면 별다른 설정 없이 바로 인식이 되는게 사실 OS가 많은 일을 해주고 있던 것.

### `mount`
그리고 Linux에서 USB 외장 장치를 연결하는 명령어.

## 내가 배운 것

마운트란
OS는 생각보다 더 많은 일을 한다.
키워드의 중요성 - 검색을 더 쉽게 만들어 줍니다.

---
- WSL에서 외장 하드 / 다른 파티션 마운트 시키기

  - sudo mount -t drvfs D: /mnt/d/
  - sudo umount /mnt/d
  - 마운트란 무엇인가?
  - 문제 해결엔 키워드가 중요하다.
    - 어.. USB가.. WSL에.. 인식이.. 안되는 것.. 같아..
      - 이러다 결국 이상한 GUI 프로그램 깔아버리는 수가
    - or "마운트" (엄근진)
      - 명령어 단 2줄로 해결

https://wrtn.ai/?utm_source=google.adwords&utm_medium=cpc&utm_campaign=google_searchad_brand&utm_content=adset_keyword_exact&utm_term=%EB%A4%BC%ED%8A%BC&ad_group=adset_keyword_exact&ad_creative=%EB%A4%BC%ED%8A%BC&gad_source=1&gclid=Cj0KCQjw-pyqBhDmARIsAKd9XIMMo-7jRO9yKHgfEJ5to_Jq0ygJdiANoYl9nr11dpXnmFWWB1Ou4fgaAnv8EALw_wcB